<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>3081W Iteration #3 Project Release: Adding a New Brush</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">3081W Iteration #3 Project Release
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Resources</a></li><li class="navelem"><a class="el" href="_design_and_coding_style_guide.html">Design and Coding Style Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Adding a New Brush </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>A tutorial on how to add a new brush to Photoshop:</h3>
<ol type="1">
<li>Navigate to the <em>libphoto/include</em> directory to create a new header .h file for your new brush. The .cpp file can be created in the <em>libphoto/src</em> directory.<br/>
</li>
<li><p class="startli">Start with the new header file. Let's say you want to create a new brush called “the plus brush”, which creates a path of plus signs after mouseDragged is called. You should modify the header file as follow:</p>
<p class="startli">#ifndef PLUS_H</p>
<p class="startli">#define PLUS_H</p>
<p class="startli">#include "Tools.h"</p>
<p class="startli">class PlusBrush : public Tools</p>
<p class="startli">{</p>
<p class="startli">public:</p>
<p class="startli">// constructor:</p>
<p class="startli">PlusBrush();</p>
<p class="startli">~PlusBrush();</p>
</li>
</ol>
<p>};</p>
<p>#endif</p>
<p>The statements after a “::” character are for the the complier to not keep including the header multiple times. Since a “plus brush” is a tool, it belongs to the <a class="el" href="class_tools.html">Tools</a> class, which is specified by the declaration: </p>
<pre class="fragment">class PlusBrush : public Tools
</pre><ol type="1">
<li>Note that Tools.h has the following member variables:<br/>
<br/>
 float** m_mask<br/>
 int m_width;</li>
</ol>
<p>We have to tell the PlusBrush.cpp's constructor to modify these variables.</p>
<p>Below is a version of PlusBrush.cpp:</p>
<div class="code"><pre>
#include "PlusBrush.h"</pre></div><div class="code"><pre>PlusBrush::PlusBrush(){</pre></div><div class="code"><pre>    m_width = 15;</pre></div><div class="code"><pre>    m_mask = new float*[m_width];</pre></div><div class="code"><pre>    for(int i = 0; i &lt; m_width; i++){</pre></div><div class="code"><pre>        m_mask[i] = new float[m_width];</pre></div><div class="code"><pre>    }</pre></div><div class="code"><pre>    for(int i = 0; i &lt; m_width; i++) {</pre></div><div class="code"><pre>        for (int j = 0; j&lt;m_width; j++){</pre></div><div class="code"><pre>            m_mask[i][j] = 0;</pre></div><div class="code"><pre>        }</pre></div><div class="code"><pre>    }</pre></div><div class="code"><pre>// Some for loops here to cut 4 corners of a rectangle so that it
becomes a plus sign</pre></div><div class="code"><pre>}</pre></div><div class="code"><pre>PlusBrush::~PlusBrush(){}</pre></div><div class="code"><pre></pre></div><p>Note that the example is incomplete. The constructor fist assignes the width as 15, then it creates a 15x15 of floating point values. This values is the alpha color (0 means completely transparent, 1 means completely shown). Depending on the functionality of your brush, you may want to have different transparency. As of for the Plush Brush example, the desired effect can be achieved by setting the alpha values in the four corners of the mask becomes 0. This is left for you to implement. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 10 2015 23:45:32 for 3081W Iteration #3 Project Release by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
